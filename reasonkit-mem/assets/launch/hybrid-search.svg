<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 700" fill="none">
  <defs>
    <linearGradient id="heroGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#06b6d4"/>
      <stop offset="50%" stop-color="#a855f7"/>
      <stop offset="100%" stop-color="#ec4899"/>
    </linearGradient>
    <linearGradient id="cyanGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#06b6d4"/>
      <stop offset="100%" stop-color="#0891b2"/>
    </linearGradient>
    <linearGradient id="purpleGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#a855f7"/>
      <stop offset="100%" stop-color="#9333ea"/>
    </linearGradient>
    <linearGradient id="greenGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#10b981"/>
      <stop offset="100%" stop-color="#059669"/>
    </linearGradient>
    <linearGradient id="fusionGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#06b6d4"/>
      <stop offset="100%" stop-color="#10b981"/>
    </linearGradient>
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="6" result="blur"/>
      <feFlood flood-color="#06b6d4" flood-opacity="0.4"/>
      <feComposite in2="blur" operator="in"/>
      <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="glowPurple" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="6" result="blur"/>
      <feFlood flood-color="#a855f7" flood-opacity="0.4"/>
      <feComposite in2="blur" operator="in"/>
      <feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1200" height="700" fill="#030508"/>

  <!-- Ambient orbs -->
  <ellipse cx="200" cy="200" rx="200" ry="150" fill="#06b6d4" opacity="0.06"/>
  <ellipse cx="1000" cy="500" rx="200" ry="150" fill="#a855f7" opacity="0.05"/>
  <ellipse cx="600" cy="350" rx="300" ry="200" fill="#10b981" opacity="0.04"/>

  <!-- Title -->
  <text x="600" y="55" text-anchor="middle" fill="url(#heroGrad)" font-family="Inter, sans-serif" font-size="36" font-weight="700">HYBRID SEARCH ARCHITECTURE</text>
  <text x="600" y="85" text-anchor="middle" fill="#9ca3af" font-family="Inter, sans-serif" font-size="16">Vector Semantic + BM25 Lexical Fusion</text>

  <!-- Query Input -->
  <g transform="translate(500, 120)">
    <rect x="0" y="0" width="200" height="50" rx="12" fill="#0a0d14" stroke="#ec4899" stroke-width="2"/>
    <text x="100" y="20" text-anchor="middle" fill="#ec4899" font-family="Inter, sans-serif" font-size="11" font-weight="600">USER QUERY</text>
    <text x="100" y="38" text-anchor="middle" fill="#f9fafb" font-family="JetBrains Mono, monospace" font-size="10">"How does RAPTOR work?"</text>
  </g>

  <!-- Arrow down from query -->
  <path d="M600 175 L600 210" stroke="#4b5563" stroke-width="2"/>
  <polygon points="600,220 595,210 605,210" fill="#4b5563"/>

  <!-- Split indicator -->
  <circle cx="600" cy="240" r="20" fill="#0a0d14" stroke="#4b5563" stroke-width="1"/>
  <text x="600" y="245" text-anchor="middle" fill="#9ca3af" font-family="Inter, sans-serif" font-size="12" font-weight="600">||</text>

  <!-- Left branch arrow -->
  <path d="M580 250 L300 290" stroke="#06b6d4" stroke-width="2"/>
  <polygon points="290,295 302,287 298,298" fill="#06b6d4"/>

  <!-- Right branch arrow -->
  <path d="M620 250 L900 290" stroke="#a855f7" stroke-width="2"/>
  <polygon points="910,295 898,287 902,298" fill="#a855f7"/>

  <!-- VECTOR SEARCH (Left) -->
  <g transform="translate(100, 300)">
    <rect x="0" y="0" width="400" height="200" rx="16" fill="#0a0d14" stroke="#06b6d4" stroke-width="2" filter="url(#glow)"/>
    <text x="200" y="30" text-anchor="middle" fill="#06b6d4" font-family="Inter, sans-serif" font-size="18" font-weight="700">VECTOR SEARCH</text>
    <text x="200" y="50" text-anchor="middle" fill="#9ca3af" font-family="Inter, sans-serif" font-size="12">Semantic Understanding</text>

    <!-- Embedding step -->
    <g transform="translate(20, 70)">
      <rect x="0" y="0" width="170" height="50" rx="8" fill="rgba(6,182,212,0.1)" stroke="#06b6d4" stroke-width="1"/>
      <text x="85" y="20" text-anchor="middle" fill="#06b6d4" font-family="Inter, sans-serif" font-size="11" font-weight="600">EMBED QUERY</text>
      <text x="85" y="38" text-anchor="middle" fill="#6b7280" font-family="JetBrains Mono, monospace" font-size="9">[0.23, -0.87, 0.45, ...]</text>
    </g>

    <!-- Vector DB step -->
    <g transform="translate(210, 70)">
      <rect x="0" y="0" width="170" height="50" rx="8" fill="rgba(6,182,212,0.1)" stroke="#06b6d4" stroke-width="1"/>
      <text x="85" y="20" text-anchor="middle" fill="#06b6d4" font-family="Inter, sans-serif" font-size="11" font-weight="600">QDRANT ANN</text>
      <text x="85" y="38" text-anchor="middle" fill="#6b7280" font-family="JetBrains Mono, monospace" font-size="9">cosine similarity</text>
    </g>

    <!-- Results -->
    <g transform="translate(20, 135)">
      <rect x="0" y="0" width="360" height="50" rx="8" fill="rgba(6,182,212,0.15)"/>
      <text x="180" y="18" text-anchor="middle" fill="#06b6d4" font-family="Inter, sans-serif" font-size="10" font-weight="600">TOP-K SEMANTIC RESULTS</text>
      <text x="180" y="35" text-anchor="middle" fill="#9ca3af" font-family="JetBrains Mono, monospace" font-size="9">doc_7: 0.94 | doc_12: 0.91 | doc_3: 0.87</text>
    </g>

    <!-- Strengths -->
    <text x="20" y="-12" fill="#10b981" font-family="Inter, sans-serif" font-size="10" font-weight="600">+ Meaning over keywords</text>
    <text x="200" y="-12" fill="#10b981" font-family="Inter, sans-serif" font-size="10" font-weight="600">+ Handles synonyms</text>
  </g>

  <!-- BM25 SEARCH (Right) -->
  <g transform="translate(700, 300)">
    <rect x="0" y="0" width="400" height="200" rx="16" fill="#0a0d14" stroke="#a855f7" stroke-width="2" filter="url(#glowPurple)"/>
    <text x="200" y="30" text-anchor="middle" fill="#a855f7" font-family="Inter, sans-serif" font-size="18" font-weight="700">BM25 SEARCH</text>
    <text x="200" y="50" text-anchor="middle" fill="#9ca3af" font-family="Inter, sans-serif" font-size="12">Lexical Precision</text>

    <!-- Tokenize step -->
    <g transform="translate(20, 70)">
      <rect x="0" y="0" width="170" height="50" rx="8" fill="rgba(168,85,247,0.1)" stroke="#a855f7" stroke-width="1"/>
      <text x="85" y="20" text-anchor="middle" fill="#a855f7" font-family="Inter, sans-serif" font-size="11" font-weight="600">TOKENIZE</text>
      <text x="85" y="38" text-anchor="middle" fill="#6b7280" font-family="JetBrains Mono, monospace" font-size="9">["raptor", "work"]</text>
    </g>

    <!-- Tantivy step -->
    <g transform="translate(210, 70)">
      <rect x="0" y="0" width="170" height="50" rx="8" fill="rgba(168,85,247,0.1)" stroke="#a855f7" stroke-width="1"/>
      <text x="85" y="20" text-anchor="middle" fill="#a855f7" font-family="Inter, sans-serif" font-size="11" font-weight="600">TANTIVY INDEX</text>
      <text x="85" y="38" text-anchor="middle" fill="#6b7280" font-family="JetBrains Mono, monospace" font-size="9">TF-IDF scoring</text>
    </g>

    <!-- Results -->
    <g transform="translate(20, 135)">
      <rect x="0" y="0" width="360" height="50" rx="8" fill="rgba(168,85,247,0.15)"/>
      <text x="180" y="18" text-anchor="middle" fill="#a855f7" font-family="Inter, sans-serif" font-size="10" font-weight="600">TOP-K LEXICAL RESULTS</text>
      <text x="180" y="35" text-anchor="middle" fill="#9ca3af" font-family="JetBrains Mono, monospace" font-size="9">doc_7: 8.2 | doc_5: 7.4 | doc_18: 6.9</text>
    </g>

    <!-- Strengths -->
    <text x="20" y="-12" fill="#10b981" font-family="Inter, sans-serif" font-size="10" font-weight="600">+ Exact match precision</text>
    <text x="200" y="-12" fill="#10b981" font-family="Inter, sans-serif" font-size="10" font-weight="600">+ Rare term boost</text>
  </g>

  <!-- Merge arrows -->
  <path d="M300 510 L500 560" stroke="#06b6d4" stroke-width="2"/>
  <path d="M900 510 L700 560" stroke="#a855f7" stroke-width="2"/>

  <!-- FUSION ENGINE -->
  <g transform="translate(400, 550)">
    <rect x="0" y="0" width="400" height="100" rx="16" fill="#0a0d14" stroke="url(#fusionGrad)" stroke-width="3"/>
    <text x="200" y="30" text-anchor="middle" fill="url(#fusionGrad)" font-family="Inter, sans-serif" font-size="18" font-weight="700">RECIPROCAL RANK FUSION</text>

    <!-- Formula -->
    <text x="200" y="55" text-anchor="middle" fill="#f9fafb" font-family="JetBrains Mono, monospace" font-size="12">RRF(d) = 1/(k + rank_vec) + 1/(k + rank_bm25)</text>

    <!-- Final result -->
    <rect x="50" y="70" width="300" height="22" rx="6" fill="rgba(16,185,129,0.2)"/>
    <text x="200" y="85" text-anchor="middle" fill="#10b981" font-family="JetBrains Mono, monospace" font-size="10">FINAL: doc_7 (0.97) | doc_12 (0.89) | doc_5 (0.85)</text>
  </g>

  <!-- Performance stats -->
  <g transform="translate(50, 580)">
    <rect x="0" y="0" width="280" height="70" rx="12" fill="#0a0d14" stroke="rgba(6,182,212,0.3)" stroke-width="1"/>
    <text x="140" y="22" text-anchor="middle" fill="#06b6d4" font-family="Inter, sans-serif" font-size="12" font-weight="600">PERFORMANCE</text>
    <text x="50" y="45" fill="#9ca3af" font-family="Inter, sans-serif" font-size="10">Latency:</text>
    <text x="120" y="45" fill="#10b981" font-family="JetBrains Mono, monospace" font-size="10">&lt;50ms p95</text>
    <text x="50" y="60" fill="#9ca3af" font-family="Inter, sans-serif" font-size="10">Throughput:</text>
    <text x="140" y="60" fill="#10b981" font-family="JetBrains Mono, monospace" font-size="10">10k qps</text>
  </g>

  <g transform="translate(870, 580)">
    <rect x="0" y="0" width="280" height="70" rx="12" fill="#0a0d14" stroke="rgba(168,85,247,0.3)" stroke-width="1"/>
    <text x="140" y="22" text-anchor="middle" fill="#a855f7" font-family="Inter, sans-serif" font-size="12" font-weight="600">ACCURACY</text>
    <text x="50" y="45" fill="#9ca3af" font-family="Inter, sans-serif" font-size="10">Recall@10:</text>
    <text x="130" y="45" fill="#10b981" font-family="JetBrains Mono, monospace" font-size="10">94%</text>
    <text x="50" y="60" fill="#9ca3af" font-family="Inter, sans-serif" font-size="10">MRR:</text>
    <text x="90" y="60" fill="#10b981" font-family="JetBrains Mono, monospace" font-size="10">0.91</text>
  </g>

  <!-- Footer -->
  <text x="600" y="680" text-anchor="middle" fill="#4b5563" font-family="Inter, sans-serif" font-size="11">reasonkit-mem | Hybrid Search Engine | reasonkit.sh</text>
</svg>
